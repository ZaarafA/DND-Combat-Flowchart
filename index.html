<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D&D Combat Flowchart</title>
    <script defer src="main.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.7.570/pdf.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.9.1/mermaid.min.js"></script>
    <script>mermaid.initialize({ startOnLoad: true });</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <link rel="stylesheet" href="style.css"/>
</head>
<body>
    <p id="credit"><a target="_blank" href="https://x.com/IlaZaaraF">Azaaraf</a></p>
    <div class="container">
        <div class="header">
            <div class="header-left">
                <input type="file" id="input-button" accept="application/pdf"/>
                <button id="save-png">SAVE</button>
                <button id="help-button">?</button>
            </div>
            <h2 class="title">D&D Combat Flowchart Builder</h2>
            <button id="toggle-header"> << </button>
        </div>
        <div class="popup" id="popup">
            <div class="popup-content">
                <span class="close" id="popup-close">&times;</span>
                <h2>Under Construction!</h2>
                <p>This page is still a work in progress.</p> <hr>
                <h4>To Use:</h4>
                <ul>
                    <li>Upload a filled out Character Sheet PDF (ex. from D&D Beyond)</li>
                    <li>Left-click to add a child node. Right-click to delete</li>
                    <li>Refresh the page before selecting a new sheet. (I'll fix that soon. Hopefully.)</li>
                </ul>
            </div>
        </div>        

        <div id="test-fields"></div>
        <div id="flowchart">
        <div id="test-flowchart" class="mermaid">
            %%{init: {'theme': 'dark'}}%%
            flowchart TD;
            A{{Get Started!}} --> B[Load a Character Sheet PDF]
            B ---> |"Fillable Field PDF <br> ex. from D&DBeyond"|C[Edit the Flowchart]
            C --> D[Click on a node to add a child]
            C --> E[Right-Click to delete a node]
        </div>
        </div>
    </div>
</body>
</html>